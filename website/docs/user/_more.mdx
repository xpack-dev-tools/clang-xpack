
{/* ------------------------------------------------------------------------ */}

## LLVM libraries

On macOS and Windows the compiler defaults are set to the LLVM libraries
(`libc++` and `compiler-rt`).

For historical reasons, on GNU/Linux, the defaults are set to the host
system (`libstdc++` and `glibc`).

To use the LLVM libraries, add the following options:

```sh
-stdlib=libc++ -rtlib=compiler-rt -lunwind
```

For LTO builds, also use LLD:

```sh
-flto -fuse-ld=lld
```

## `-m32` / `-m64`

For Intel Linux and Windows, multilib libraries are provided
and can be selected using the `-m32` / `-m64` options.

## `-print-search-dirs`

Since the toolchain can be installed in any location, and the binaries
compiled with it need to access the libraries, it is necessary to
get the actual path and pass it via `LD_LIBRARY_PATH` and/or
set the `-rpath`.

This can be achieved by querying the compiler
for `-print-search-dirs` and processing the output.

For example, for the 32-bit libraries:

```sh
${CXX} -m32 -print-search-dirs | grep 'libraries: =' | sed -e 's|libraries: =||'
```

On Windows the DLLs are usually in `bin`, but for consistency within GCC,
they are also copied to `lib`; it is recommended to ask the compiler for
the actual path.

For example, for the 32-bit libraries:

```sh
${CXX} -m32 -print-file-name=libc++.dll
```

## Using clang in testing

TODO
